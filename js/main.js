const objCards = {
  cards: {
    card1: {
      dataId: 1,
      image1: "../assests/images/PNG-cards/ace_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Israel.jpg",
      image3: "./path...",
    },
    card2: {
      dataId: 2,
      image1: "../assests/images/PNG-cards/ace_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Argentina.jpg",
      image3: "./path...",
    },
    card3: {
      dataId: 3,
      image1: "../assests/images/PNG-cards/ace_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Australia.jpg",
      image3: "./path...",
    },
    card4: {
      dataId: 4,
      image1: "../assests/images/PNG-cards/ace_of_spades2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Austria.jpg",
      image3: "./path...",
    },
    card5: {
      dataId: 5,
      image1: "../assests/images/PNG-cards/2_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Belgium.jpg",
      image3: "./path...",
    },
    card6: {
      dataId: 6,
      image1: "../assests/images/PNG-cards/2_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Bolivia.jpg",
      image3: "./path...",
    },
    card7: {
      dataId: 7,
      image1: "../assests/images/PNG-cards/2_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Brazil.jpg",
      image3: "./path...",
    },
    card8: {
      dataId: 8,
      image1: "../assests/images/PNG-cards/2_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Bulgaria.jpg",
      image3: "./path...",
    },
    card9: {
      dataId: 9,
      image1: "../assests/images/PNG-cards/3_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Cambodia.jpg",
      image3: "./path...",
    },
    card10: {
      dataId: 10,
      image1: "../assests/images/PNG-cards/3_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Cameroon.jpg",
      image3: "./path...",
    },
    card11: {
      dataId: 11,
      image1: "../assests/images/PNG-cards/3_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Canada.jpg",
      image3: "./path...",
    },
    card12: {
      dataId: 12,
      image1: "../assests/images/PNG-cards/3_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Chile.jpg",
      image3: "./path...",
    },
    card13: {
      dataId: 13,
      image1: "../assests/images/PNG-cards/4_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/China.jpg",
      image3: "./path...",
    },
    card14: {
      dataId: 14,
      image1: "../assests/images/PNG-cards/4_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Colombia.jpg",
      image3: "./path...",
    },
    card15: {
      dataId: 15,
      image1: "../assests/images/PNG-cards/4_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Costa_Rica.jpg",
      image3: "./path...",
    },
    card16: {
      dataId: 16,
      image1: "../assests/images/PNG-cards/4_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Croatia.jpg",
      image3: "./path...",
    },
    card17: {
      dataId: 17,
      image1: "../assests/images/PNG-cards/5_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Denmark.jpg",
      image3: "./path...",
    },
    card18: {
      dataId: 18,
      image1: "../assests/images/PNG-cards/5_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Ecuador.jpg",
      image3: "./path...",
    },
    card19: {
      dataId: 19,
      image1: "../assests/images/PNG-cards/5_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Egypt.jpg",
      image3: "./path...",
    },
    card20: {
      dataId: 20,
      image1: "../assests/images/PNG-cards/5_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/England.jpg",
      image3: "./path...",
    },
    card21: {
      dataId: 21,
      image1: "../assests/images/PNG-cards/6_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Ethiopia.jpg",
      image3: "./path...",
    },
    card22: {
      dataId: 22,
      image1: "../assests/images/PNG-cards/6_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Finland.jpg",
      image3: "./path...",
    },
    card23: {
      dataId: 23,
      image1: "../assests/images/PNG-cards/6_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/France.jpg",
      image3: "./path...",
    },
    card24: {
      dataId: 24,
      image1: "../assests/images/PNG-cards/6_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Guinea.jpg",
      image3: "./path...",
    },
    card25: {
      dataId: 25,
      image1: "../assests/images/PNG-cards/7_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Hungary.jpg",
      image3: "./path...",
    },
    card26: {
      dataId: 26,
      image1: "../assests/images/PNG-cards/7_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Iceland.jpg",
      image3: "./path...",
    },
    card27: {
      dataId: 27,
      image1: "../assests/images/PNG-cards/7_of_hearts.png",
      image2: "./path...",
      image3: "./path...",
    },
    card28: {
      dataId: 28,
      image1: "../assests/images/PNG-cards/7_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/India.jpg",
      image3: "./path...",
    },
    card29: {
      dataId: 29,
      image1: "../assests/images/PNG-cards/8_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Ireland.jpg",
      image3: "./path...",
    },
    card30: {
      dataId: 30,
      image1: "../assests/images/PNG-cards/8_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Italy.jpg",
      image3: "./path...",
    },
    card31: {
      dataId: 31,
      image1: "../assests/images/PNG-cards/8_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Jamaica.jpg",
      image3: "./path...",
    },
    card32: {
      dataId: 32,
      image1: "../assests/images/PNG-cards/8_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Japan.jpg",
      image3: "./path...",
    },
    card33: {
      dataId: 33,
      image1: "../assests/images/PNG-cards/9_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Jordan.jpg",
      image3: "./path...",
    },
    card34: {
      dataId: 34,
      image1: "../assests/images/PNG-cards/9_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Luxembourg.jpg",
      image3: "./path...",
    },
    card35: {
      dataId: 35,
      image1: "../assests/images/PNG-cards/9_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Macedonia.jpg",
      image3: "./path...",
    },
    card36: {
      dataId: 36,
      image1: "../assests/images/PNG-cards/9_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Mexico.jpg",
      image3: "./path...",
    },
    card37: {
      dataId: 37,
      image1: "../assests/images/PNG-cards/10_of_clubs.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Moldova.jpg",
      image3: "./path...",
    },
    card38: {
      dataId: 38,
      image1: "../assests/images/PNG-cards/10_of_diamonds.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Monaco.jpg",
      image3: "./path...",
    },
    card39: {
      dataId: 39,
      image1: "../assests/images/PNG-cards/10_of_hearts.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Netherlands.jpg",
      image3: "./path...",
    },
    card40: {
      dataId: 40,
      image1: "../assests/images/PNG-cards/10_of_spades.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Nigeria.jpg",
      image3: "./path...",
    },
    card41: {
      dataId: 41,
      image1: "../assests/images/PNG-cards/jack_of_clubs2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Norway.jpg",
      image3: "./path...",
    },
    card42: {
      dataId: 42,
      image1: "../assests/images/PNG-cards/jack_of_diamonds2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Paraguay.jpg",
      image3: "./path...",
    },
    card43: {
      dataId: 43,
      image1: "../assests/images/PNG-cards/jack_of_hearts2.png",
      image2: "https://www.sciencekids.co.nz/images/pictures/flags680/Peru.jpg",
      image3: "./path...",
    },
    card44: {
      dataId: 44,
      image1: "../assests/images/PNG-cards/jack_of_spades2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Poland.jpg",
      image3: "./path...",
    },
    card45: {
      dataId: 45,
      image1: "../assests/images/PNG-cards/queen_of_clubs2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Portugal.jpg",
      image3: "./path...",
    },
    card46: {
      dataId: 46,
      image1: "../assests/images/PNG-cards/queen_of_diamonds2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Romania.jpg",
      image3: "./path...",
    },
    card47: {
      dataId: 47,
      image1: "../assests/images/PNG-cards/queen_of_hearts2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Russia.jpg",
      image3: "./path...",
    },
    card48: {
      dataId: 48,
      image1: "../assests/images/PNG-cards/queen_of_spades2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Scotland.jpg",
      image3: "./path...",
    },
    card49: {
      dataId: 49,
      image1: "../assests/images/PNG-cards/king_of_clubs2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Senegal.jpg",
      image3: "./path...",
    },
    card50: {
      dataId: 50,
      image1: "../assests/images/PNG-cards/king_of_diamonds2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/Slovenia.jpg",
      image3: "./path...",
    },
    card51: {
      dataId: 51,
      image1: "../assests/images/PNG-cards/king_of_hearts2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/United_States.jpg",
      image3: "./path...",
    },
    card52: {
      dataId: 52,
      image1: "../assests/images/PNG-cards/king_of_spades2.png",
      image2:
        "https://www.sciencekids.co.nz/images/pictures/flags680/United_Kingdom.jpg",
      image3: "./path...",
    },
  },
  getIdOfCards: function () {
    const valuesArr = Object.values(this.cards);
    const newArr = valuesArr.map((obj) => obj.dataId);
    return newArr;
  },
};

function createMatrix(numOfCards) {
  let rows;
  let columns;
  if (numOfCards == 12) {
    rows = 4;
    columns = 3;
  } else if (numOfCards == 18) {
    rows = 6;
    columns = 3;
  } else if (numOfCards == 24) {
    rows = 6;
    columns = 4;
  }

  document.documentElement.style.setProperty("--columns", columns);
  document.documentElement.style.setProperty("--rows", rows);

  const emptyCardsArr = [];
  const columnsArr = new Array(columns);
  for (let i = 0; i < rows; i++) {
    emptyCardsArr.push([...columnsArr]);
  }

  return emptyCardsArr;
}

function getRandomArrMatrix(arr) {
  // ! fix
  const idOfCards = objCards.getIdOfCards();
  idOfCards.push(...idOfCards);
  for (let i = 0; i < arr.length; i++) {
    for (let j = 0; j < arr[i].length; j++) {
      const randomIndexId = Math.floor(Math.random() * idOfCards.length);
      arr[i][j] = idOfCards[randomIndexId];
      idOfCards.splice(randomIndexId, 1);
    }
  }
  return arr;
}

function getUserChoices(e) {
  const inputsFormCollection = e.target.querySelectorAll(
    "#start-page-form input"
  );
  const inputsFormElementsTruth = [...inputsFormCollection].filter(
    (option) => option.checked === true
  );
  const userChoicesObj = {};
  inputsFormElementsTruth.forEach((element) => {
    userChoicesObj[element.name] = element.value;
  });
  return userChoicesObj;
}

// start page:
const form = document.querySelector("#start-page-form");
form.addEventListener("submit", (e) => {
  e.preventDefault();

  const userChoicesObj = getUserChoices(e);
  console.log(userChoicesObj);

  const arrEmpty = createMatrix(userChoicesObj["num-of-cards"]);
  console.log(arrEmpty);

  const matrixCardsNumbers = getRandomArrMatrix(arrEmpty);
  console.log(matrixCardsNumbers);

  // display-none start page with animation:
  const startPageMainContainer = document.querySelector(
    ".start-page-main-container"
  );
  startPageMainContainer.addEventListener(
    "animationend",
    (e) => {
      e.target.setAttribute("data-display", "false");
    },
    { once: true }
  );
  startPageMainContainer.setAttribute("animation", "rotate_scale_opacity-out");

  // display-grid game page with animation:
  const gameContainer = document.querySelector(".game-container");
  gameContainer.setAttribute("data-display", "true");
  gameContainer.setAttribute("animation", "rotate_scale_opacity-in");
});

// AMIR CODE - GENERATE RANDOM COLOR TO THE MAIN GAME
setRandomColorToBody();
function generateRandomColor() {
  const RandomColorArr = [
    "#23B936",
    "#9980ff",
    "#8066ff",
    "#cc5599",
    "#ffb600",
    "#ff5c00",
    "#00f5ff",
    "#990000",
    "#b6fcd5",
    "#003366",
    "#bada55",
    "#e6e6fa",
  ];
  const randomColor = Math.floor(Math.random() * RandomColorArr.length);
  return RandomColorArr[randomColor];
}
// SET RANDOM COLOR TO BODY //
function setRandomColorToBody() {
  document.body.style.background = `linear-gradient(135deg, ${generateRandomColor()} 0%, ${generateRandomColor()} 50%, ${generateRandomColor()} 100%)`;
}

const startButton = document.querySelector(".exitBtn");
const setTime = document.querySelector(".timer");
listenToStartButton();

// function listenToStartButton() {
//   startButton.addEventListener("click", function () {
//     const sec = 0;
//     function setTime() {
//         ++totalSeconds;
//         secondsLabel.innerHTML = pad(totalSeconds % 60);
//         minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
//       }

// }

/*
function pad(val) {
    return val > 9 ? val : "0" + val;
  }
  setInterval(function () {
    document.getElementById("seconds").innerHTML = pad(++sec % 60);
    document.getElementById("minutes").innerHTML = pad(
      parseInt(sec / 60, 10)
    );
  }, 1000);
});
function setUpdateTimer() {
  const clock = new Date();
  const minutes = clock.getMinutes();
  console.log(minutes);
  const seconds = clock.getSeconds();
  setTime.innerText = `${clock.minutes}:${clock.seconds}`;
}
*/
